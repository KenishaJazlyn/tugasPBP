{% extends 'base.html' %}

{% block content %}
<head> 
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<style>
    body {
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif
    }
    .cards {
      display: block;
      float: left;
      width: 25%;
      text-align: left;
      font-family:'Poppins';
      margin: 0px 0px 0px 0px;
      font-weight: 8;
      right: 10px;
      padding-bottom:10px;
      padding-left: 30px;
      
    }
    .card:hover {
      background-color: rgb(245, 244, 244);
    }
    .card {
      box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.10); /* this adds the "card" effect */
      text-align: left;
      background-color: white;
      float: left;
      width: 2%;
      margin: auto;
      margin: 0px 0px 0px 0px;
      padding-bottom: 8px;
    }
    .col {
      padding-left:45px;
      padding-right:35px; 
    }
    .row {
      margin: 0 -3px;
      float:flex;
    }
    .row:after {
      content: "";
      display: table;
      clear: both;
    }
    .h5 {
      font-family: 'Lato';
    }
    body {
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: 100% 100%;
      font-family: Lato;
    }.btn-light {
      background-color: white;
      border-color:  white;
      line-height: 1px;
      padding-left: 1px;
      padding-right: 1px;
       
    }.btn-dark {
      background-color: #262626;
      border-color:  #262626;
      line-height: 1px;
      padding-left: 1px;
      padding-right: 1px;
      
       
    }

    /* Use a media query to add a breakpoint at 800px: */
    @media screen and (max-width: 1134px) {
       body {
        width: 100%; /* The width is 100%, when the viewport is 800px or smaller */
      }
      .card {
        width:30%;
        padding-left: 2px;
      }
    }
    @media screen and (max-width: 902px) {
       body {
        width: 100%; /* The width is 100%, when the viewport is 800px or smaller */
      }
      .card {
        width:50%;
        padding-left: 2px;
      }
    }

    
</style>
   
    <nav class="navbar navbar-expand-lg" style="background-color: #262626; width:100%">
      <div class="container-fluid">
        <a class="navbar-brand" href="#" style="color: white; font-family: Lato; font-size:25px; padding-left:20px;">StockTrackr</a>
        <a class="btn btn-dark" href="{% url 'main:logout' %}" role="button" style="display:flex; width:70px">Logout</a>
        <a  class="btn btn-dark" href="{% url 'main:add_product' %}"  role="button" style="display:flex;width:120px">Add Product</a>
        <nav class="navbar navbar-light " style="background-color: #262626">
          <span class="navbar-text" style="color: white;">
            Welcome, {{user}}
          </span>
        </nav>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          </ul>
            
          </div>
      </div>
    </nav>
            <br>
            {% comment %} Tambahkan data di bawah baris ini {% endcomment %}
            <div class="row row-cols-md-4">
            {% for item in items %}
                <div class = "col m-4">
                    <div class = "cards">
                    <div class="card" style="width: 18rem;">
                        <div class="card-body">
                            <div class="row">
                                {% if forloop.last %}
                                    <h5 class="card-title" style="color: red; font-size: 16px; font-family: Poppins; font-weight: 800; line-height: 15px; letter-spacing: 0.5px; display: inline-block;">{{ item.name }}</h5>
                                {% else %}
                                    <h5 class="card-title" style="color: #262626; font-size: 16px; font-family: Poppins; font-weight: 800; line-height: 15px; letter-spacing: 0.5px; display: inline-block;">{{ item.name }}</h5>
                                {% endif %}
                                <div class="col-2">
                                    <form method="POST" action="{% url 'main:delete_item' item.id %}">
                                        {% csrf_token %}
                                        <button class="btn btn-light" style="display: inline-block;"><i class="fa fa-trash-o"></i></button>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                            <h6 class= "card-subtitle"style="color: #555555; font-size: 12px; font-family: Poppins; font-weight: 800; line-height: 20px;letter-spacing: 0.7px;">{{item.description}}</h6>
                            </div>
                             
                            <div class="row">
                                <div class="col-10">
                                    <div style="display: inline-block;">
                                        <form method="POST" action="{% url 'main:decrement_quantity' item.id %}">
                                            {% csrf_token %}
                                            <button type="submit" class="btn btn-light" style="font-size: 8px; display: inline-block; vertical-align: middle;">-</>
                                        </form>
                                    </div>
                                

                                    <div style="display: inline-block;"> {{item.amount}} </div>
                                    
                                    <div style="display: inline-block;">
                                        <form method="POST" action="{% url 'main:increment_quantity' item.id %}">
                                            {% csrf_token %}
                                            <button type="submit" class="btn btn-light" style="font-size: 8px; display: inline-block; vertical-align: middle;">+</button>
                                        </form>
                                    </div>    
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    </div>
                </div>
                
            {% endfor %}
            </div>
            <br>

            <div style="width: 5px; height: 5px"></div>
          </div>
        </div>
        <div style="align-self: stretch; height: 622px; background: white"></div>
      </div>
    </div>
  </div>

{% endblock content %}